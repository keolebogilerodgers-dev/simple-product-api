<!DOCTYPE html>
<!-- File: wwwroot/index.html -->
<html>
<head>
    <title>Product API Demo</title>
    <link rel="stylesheet" href="css/site.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-box-open"></i> Product Manager</h1>
            <p class="subtitle">A simple frontend to test the Product API. Built with vanilla JavaScript.</p>
        </header>

        <div class="demo-card">
            <h2><i class="fas fa-vial"></i> API Test Panel</h2>
            <button id="fetchProductsBtn" class="btn btn-primary">
                <i class="fas fa-download"></i> Fetch All Products
            </button>
            <div class="response-box">
                <pre id="apiResponse">Click the button to see API data here...</pre>
            </div>
        </div>

        <div class="demo-card">
            <h2><i class="fas fa-tasks"></i> Project Stack</h2>
            <div class="stack">
                <div class="stack-item">
                    <i class="fas fa-server fa-2x"></i>
                    <h3>Backend</h3>
                    <p>ASP.NET Core API</p>
                    <p>C# / Product Model</p>
                </div>
                <div class="stack-item">
                    <i class="fas fa-database fa-2x"></i>
                    <h3>Database</h3>
                    <p>SQL Server Schema</p>
                    <p>Relational Design</p>
                </div>
                <div class="stack-item">
                    <i class="fas fa-code fa-2x"></i>
                    <h3>Frontend</h3>
                    <p>Vanilla JS</p>
                    <p>HTML5 & CSS3</p>
                </div>
            </div>
        </div>

        <footer>
            <p>This demo is part of a portfolio project for an <strong>Associate Software Engineer</strong> role.</p>
            <p>It demonstrates practical skills in C# .NET, SQL, and frontend integration.</p>
        </footer>
    </div>

    <script>
        document.getElementById('fetchProductsBtn').addEventListener('click', function() {
            const responseElement = document.getElementById('apiResponse');
            responseElement.innerHTML = 'Calling API... <i class="fas fa-spinner fa-spin"></i>';

            // Using a free public demo API for the simulation
            const apiUrl = 'https://jsonplaceholder.typicode.com/posts?_limit=3';

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    // Format the JSON response
                    responseElement.innerHTML = '✅ API Call Successful!\n\n' + JSON.stringify(data, null, 2);
                    responseElement.style.color = '#2ecc71';
                })
                .catch(error => {
                    responseElement.innerHTML = '❌ API Call Failed.\n\nError: ' + error.message;
                    responseElement.style.color = '#e74c3c';
                });
        });
    </script>
</body>
</html>
